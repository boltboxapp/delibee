language: node_js
node_js:
  - 7.6
  - 8.4
  - 8.9
branches:
  only:
    - master
before_install:
 - export TZ=Asia/Seoul
 - npm install -g istanbul
script:
 - "test ! -z $(npm -ps ls istanbul) || npm test"
 - "test   -z $(npm -ps ls istanbul) || npm run-script test-travis"
 - "test   -z $(npm -ps ls eslint  ) || npm run-script lint"
after_script:
 - test -e ./coverage/lcov.info && npm install coveralls@2 && cat ./coverage/lcov.info | coveralls